{
  "apiVersion": "storage.colonies.io/v1",
  "kind": "Database",
  "metadata": {
    "name": "user-database",
    "namespace": "production-colony",
    "labels": {
      "app": "users-service",
      "tier": "database",
      "environment": "production"
    },
    "annotations": {
      "backup-bucket": "s3://backups/user-db"
    }
  },
  "spec": {
    "engine": "postgresql",
    "version": "15.4",
    "size": "500Gi",
    "replicas": 3,
    "backup": {
      "enabled": true,
      "schedule": "0 2 * * *",
      "retention": "30d"
    },
    "monitoring": {
      "enabled": true,
      "metricsPort": 9187
    },
    "connectionPooling": {
      "enabled": true,
      "maxConnections": 100
    },
    "extensions": [
      "pg_stat_statements",
      "pgcrypto",
      "uuid-ossp"
    ]
  },
  "status": {
    "phase": "Running",
    "endpoint": "user-database.production-colony.svc.cluster.local:5432",
    "primaryInstance": "user-database-0",
    "replicas": {
      "total": 3,
      "ready": 3
    },
    "storage": {
      "used": "245Gi",
      "available": "255Gi"
    },
    "lastBackup": "2025-10-20T02:00:00Z",
    "conditions": [
      {
        "type": "Ready",
        "status": "True",
        "lastTransitionTime": "2025-10-19T10:00:00Z"
      },
      {
        "type": "BackupHealthy",
        "status": "True",
        "lastTransitionTime": "2025-10-20T02:05:00Z"
      }
    ]
  }
}
